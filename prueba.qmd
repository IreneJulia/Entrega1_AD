---
title: "Entrega 1: Pingüinos"
author: "Irene LiFeng Julià Pérez y Xisco Ribera Ramis"
format: html
toc: true
editor: visual
---

```{r}
library(palmerpenguins)
datos <- penguins
```

**Con lo que sabéis de R base, realizad un análisis exploratorio de datos y redactad un reporte con los hallazgos más importantes. No olvidéis agregar en el reporte el URL de vuestro repositorio de GitHub.**


# Descripción de los datos

El data frame consta de 344 observaciones y 8 variables. Cada muestra se trata de un pingüino al que se ha extraido la siguiente información:

- `species`: Tipo de especie (Adélie, Chinstrap and Gentoo)
- `island`: La isla a la que pertence (Biscoe, Dream or Torgersen)
- `bill_length_mm`: Longitud del pico (mm)
- `bill_depth_mm`: Ancho del pico (mm)
- `flipper_length_mm`: Longitud de la aleta (mm) 
- `body_mass_g`: Masa corporal (g)
- `sex`: sexo (macho o hembra)
- `year`: año en que se tomó la muestra

A continuación mostramos un resumen cuantitativo del data frame:

```{r}
summary(datos)
head(datos)
```

Primero de todo observemos que hay muestras que tienen valores desconocidos (NA), por tanto, vamos a eliminar dichas observaciones:

```{r}
datos = na.omit(datos)
summary(datos)
```


## Gráficos

A continuación, mostraremos algunas representaciones visuales que dan una información descriptiva de los datos.

### Diagramas de sectores

Realizamos un diagrama de sectores de las variables `species`, `island`, `sex` y `year`.

```{r echo=TRUE}
par(mfrow=c(2,2))
pie(prop.table(table(datos$species)),col = c("lightpink","lightblue","purple"), main = "Proporcion de especies", radius = 1)
pie(prop.table(table(datos$island)),col = c("yellow","orange","green"), main = "Proporcion de especies", radius = 1)
pie(prop.table(table(datos$sex)),col = c("blue","coral","brown"), main = "Proporcion de especies", radius = 1)
pie(prop.table(table(datos$year)),col = c("aquamarine","darksalmon","lightgreen"), main = "Proporcion de especies", radius = 1)
```


### Histogramas

A continuación, realizaremos unos histogramas de las variables `bill_length_mm`, `bill_depth_mm`, `flipper_length_mm` y `body_mass_g` para ver a simple vista la distribución de la población.


```{r}
par(mfrow=c(2,2))
hist(datos$bill_length_mm, main='Longitud del pico (mm)', breaks = 30, col = 'lightblue')
hist(datos$bill_depth_mm, main='Anchura del pico (mm)', breaks = 35, col = 'coral3')
hist(datos$flipper_length_mm, main='Longitud de la aleta (mm)', breaks = 30, col = 'lightgreen')
hist(datos$body_mass_g, main='Masa Corporal (g)', breaks = 30, col = 'pink')
```


# Autocorrelación de las variables

Veamos si existe autocorrelación, tanto positiva como negativa de las variables numéricas. Para ello, mostraremos una matriz de correlaciones.

```{r}
library(psych)
datos2 = datos[,c(-1,-2,-7,-8)] # eliminamos las variables no numéricas
corPlot(datos2, cex = 0.8,  main = "Matriu de correlació")
```


# Medias muestrales de cada variable en función de cada especie

Comparemos las medias de las variables cuantitativas en función de cada especie:

## Longitud del pico

Veamos la media de la longitud del pico de cada especie

```{r}
ping_adelie = datos[datos$species=="Adelie",]
ping_chinstrap = datos[datos$species=="Chinstrap",]
ping_gentoo = datos[datos$species=="Gentoo",]

mean(ping_adelie$bill_length_mm)
mean(ping_chinstrap$bill_length_mm)
mean(ping_gentoo$bill_length_mm)
```

Notemos que los pinguinos de especie `Adelie` de media tienen el pico mas corto que las otras dos especies.

## Ancho del pico

```{r}
mean(ping_adelie$bill_depth_mm)
mean(ping_chinstrap$bill_depth_mm)
mean(ping_gentoo$bill_depth_mm)
```

Notemos que los pinguinos de especie `Gentoo` de media tienen el pico menos ancho que las otras dos especies.

## Longitud de la aleta

```{r}
mean(ping_adelie$flipper_length_mm)
mean(ping_chinstrap$flipper_length_mm)
mean(ping_gentoo$flipper_length_mm)
```

Notemos que los pinguinos de especie `Gentoo` de media tienen la aleta más larga que las otras dos especies.

## Masa corporal

```{r}
mean(ping_adelie$body_mass_g)
mean(ping_chinstrap$body_mass_g)
mean(ping_gentoo$body_mass_g)
```

Notemos que los pinguinos de especie `Gentoo` de media tienen mas masa corporal que las otras dos especies.

**Nota:** las conclusiones extraidas sobre las medias no pueden extrapolarse a toda la población.
